{"uid":"efe0adbf9cc88553","name":"test_cartRebuild_afterStaging_returns400AndError[User.SUPERUSER]","fullName":"tests.metro.test_cart_build.TestCreateCart#test_cartRebuild_afterStaging_returns400AndError","historyId":"f5e244c5942994d0ed89ca47797998af","time":{"start":1686796689998,"stop":1686796690925,"duration":927},"status":"failed","statusMessage":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in ready_for_delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in ready_for_delivery process status","statusTrace":"self = <test_cart_build.TestCreateCart object at 0x7f579b8e2290>\nclient = <core.http_client.HTTPClient object at 0x7f579a937d10>\nuser = <User.SUPERUSER: 'superuser'>\nrequest = <FixtureRequest for <Function test_cartRebuild_afterStaging_returns400AndError[User.SUPERUSER]>>\n\n    @users(User.SUPERUSER)\n    def test_cartRebuild_afterStaging_returns400AndError(self, client, user, request):\n        # Arrange\n        setup = request.getfixturevalue('staging')\n        metro_qr_code = setup.get('metro_qr_code')\n        metro_config_qr_code = setup.get('metro_config_qr_code')\n    \n        # Act\n        payload = data.fake.model.cart(\n            metro_qr_code=metro_qr_code,\n            metro_config_qr_code=metro_config_qr_code,\n            is_rebuild=True\n        )\n        response, model = CartBuildAPI(client).create_cart(data=payload)\n    \n        # Assert\n        APIResponse(response).assert_status(400)\n>       assert model.error.get('detail') == \"Metro is already staged.\"\nE       assert \"This metro can not go through Cart Build process because it's now in ready_for_delivery process status\" == 'Metro is already staged.'\nE         - Metro is already staged.\nE         + This metro can not go through Cart Build process because it's now in ready_for_delivery process status\n\ntests/metro/test_cart_build.py:79: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":3,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1686796651544,"stop":1686796651557,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"client","time":{"start":1686796651558,"stop":1686796651558,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"users","time":{"start":1686796689997,"stop":1686796689997,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"staging","time":{"start":1686796689998,"stop":1686796690861,"duration":863},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"create_fake_cart_superuser","time":{"start":1686796689998,"stop":1686796689998,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"assign_metro","time":{"start":1686796689998,"stop":1686796689998,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"create_fake_facility","time":{"start":1686796689998,"stop":1686796689998,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"create_fake_order_superuser","time":{"start":1686796689998,"stop":1686796689998,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"afterStages":[{"name":"create_fake_cart_superuser::0","time":{"start":1686796690929,"stop":1686796691156,"duration":227},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"assign_metro::0","time":{"start":1686796690929,"stop":1686796690929,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"create_fake_order_superuser::0","time":{"start":1686796691157,"stop":1686796691239,"duration":82},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"create_fake_facility::0","time":{"start":1686796691239,"stop":1686796691360,"duration":121},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"client::0","time":{"start":1686796743254,"stop":1686796743254,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"parentSuite","value":"tests.metro"},{"name":"suite","value":"test_cart_build"},{"name":"subSuite","value":"TestCreateCart"},{"name":"host","value":"fv-az447-707"},{"name":"thread","value":"2429-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.metro.test_cart_build"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"user","value":"<User.SUPERUSER: 'superuser'>"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"a33578c05faaa20","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in ready_for_delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in ready_for_delivery process status","time":{"start":1686796688699,"stop":1686796689601,"duration":902}},{"uid":"87c3497150107ef","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in ready_for_delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in ready_for_delivery process status","time":{"start":1686796687378,"stop":1686796688289,"duration":911}},{"uid":"cb49f70763b68cfc","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in ready_for_delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in ready_for_delivery process status","time":{"start":1686796686038,"stop":1686796686917,"duration":879}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":14,"unknown":0,"total":15},"items":[{"uid":"2dd2f9bbd715302d","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/109//#testresult/2dd2f9bbd715302d","status":"passed","time":{"start":1686714268834,"stop":1686714270526,"duration":1692}},{"uid":"274c99c439e4a48d","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/33//#testresult/274c99c439e4a48d","status":"passed","time":{"start":1686710334074,"stop":1686710334930,"duration":856}},{"uid":"28bccbcc9b4a7ad3","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/32//#testresult/28bccbcc9b4a7ad3","status":"passed","time":{"start":1686623982679,"stop":1686623983897,"duration":1218}},{"uid":"4de986d6032ecaa0","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/108//#testresult/4de986d6032ecaa0","status":"passed","time":{"start":1686539445226,"stop":1686539446563,"duration":1337}},{"uid":"83463f5f857b2749","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/31//#testresult/83463f5f857b2749","status":"passed","time":{"start":1686538359025,"stop":1686538360440,"duration":1415}},{"uid":"497844ad8eb8d36f","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/107//#testresult/497844ad8eb8d36f","status":"passed","time":{"start":1686511150640,"stop":1686511151880,"duration":1240}},{"uid":"8f459dac8b40252c","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/106//#testresult/8f459dac8b40252c","status":"passed","time":{"start":1686509426993,"stop":1686509428189,"duration":1196}},{"uid":"45882a02bc889411","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/105//#testresult/45882a02bc889411","status":"passed","time":{"start":1686508045650,"stop":1686508046459,"duration":809}},{"uid":"85e4ad2523b7a4ee","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/30//#testresult/85e4ad2523b7a4ee","status":"passed","time":{"start":1686452428809,"stop":1686452429704,"duration":895}},{"uid":"230ff0cb731292de","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/29//#testresult/230ff0cb731292de","status":"passed","time":{"start":1686364955592,"stop":1686364956853,"duration":1261}},{"uid":"3730f80772b4b1ab","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/104//#testresult/3730f80772b4b1ab","status":"passed","time":{"start":1686288880832,"stop":1686288882029,"duration":1197}},{"uid":"271dd3b624884da2","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/103//#testresult/271dd3b624884da2","status":"passed","time":{"start":1686287727305,"stop":1686287728995,"duration":1690}},{"uid":"fea4e6cc07e19e42","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/102//#testresult/fea4e6cc07e19e42","status":"passed","time":{"start":1686284160130,"stop":1686284161034,"duration":904}},{"uid":"a99eb7d149e2a62f","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/28//#testresult/a99eb7d149e2a62f","status":"passed","time":{"start":1686279630641,"stop":1686279631539,"duration":898}}]},"tags":[]},"source":"efe0adbf9cc88553.json","parameterValues":["<User.SUPERUSER: 'superuser'>"]}