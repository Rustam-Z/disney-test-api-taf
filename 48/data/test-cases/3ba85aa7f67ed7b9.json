{"uid":"3ba85aa7f67ed7b9","name":"test_cartRebuild_afterStaging_returns400AndError[User.SUPERUSER]","fullName":"tests.metro.test_cart_build.TestCreateCart#test_cartRebuild_afterStaging_returns400AndError","historyId":"f5e244c5942994d0ed89ca47797998af","time":{"start":1688007378623,"stop":1688007379747,"duration":1124},"status":"failed","statusMessage":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in Ready for Delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in Ready for Delivery process status","statusTrace":"self = <test_cart_build.TestCreateCart object at 0x7f11f0ae3a50>\nclient = <core.http_client.HTTPClient object at 0x7f11f0c9abd0>\nuser = <User.SUPERUSER: 'superuser'>\nrequest = <FixtureRequest for <Function test_cartRebuild_afterStaging_returns400AndError[User.SUPERUSER]>>\n\n    @users(User.SUPERUSER)\n    def test_cartRebuild_afterStaging_returns400AndError(self, client, user, request):\n        # Arrange\n        setup = request.getfixturevalue('staging')\n        metro_qr_code = setup.get('metro_qr_code')\n        metro_config_qr_code = setup.get('metro_config_qr_code')\n    \n        # Act\n        payload = data.fake.model.cart(\n            metro_qr_code=metro_qr_code,\n            metro_config_qr_code=metro_config_qr_code,\n            is_rebuild=True\n        )\n        response, model = CartBuildAPI(client).create_cart(data=payload)\n    \n        # Assert\n        APIResponse(response).assert_status(400)\n>       assert model.error.get('detail') == \"Metro is already staged.\"\nE       assert \"This metro can not go through Cart Build process because it's now in Ready for Delivery process status\" == 'Metro is already staged.'\nE         - Metro is already staged.\nE         + This metro can not go through Cart Build process because it's now in Ready for Delivery process status\n\ntests/metro/test_cart_build.py:79: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":3,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1688007163846,"stop":1688007163860,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"client","time":{"start":1688007163861,"stop":1688007163861,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"staging","time":{"start":1688007378623,"stop":1688007379670,"duration":1047},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"users","time":{"start":1688007378623,"stop":1688007378623,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"create_fake_facility","time":{"start":1688007378623,"stop":1688007378624,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"assign_metro","time":{"start":1688007378624,"stop":1688007378624,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"create_fake_cart_superuser","time":{"start":1688007378624,"stop":1688007378624,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"create_fake_order_superuser","time":{"start":1688007378624,"stop":1688007378624,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"afterStages":[{"name":"assign_metro::0","time":{"start":1688007379751,"stop":1688007379751,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"create_fake_cart_superuser::0","time":{"start":1688007379752,"stop":1688007380028,"duration":276},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"create_fake_order_superuser::0","time":{"start":1688007380029,"stop":1688007380142,"duration":113},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"create_fake_facility::0","time":{"start":1688007380142,"stop":1688007380251,"duration":109},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"client::0","time":{"start":1688007441401,"stop":1688007441402,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"parentSuite","value":"tests.metro"},{"name":"suite","value":"test_cart_build"},{"name":"subSuite","value":"TestCreateCart"},{"name":"host","value":"fv-az442-498"},{"name":"thread","value":"2410-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.metro.test_cart_build"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"user","value":"<User.SUPERUSER: 'superuser'>"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"ad55c6b68318734e","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in Ready for Delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in Ready for Delivery process status","time":{"start":1688007376988,"stop":1688007378113,"duration":1125}},{"uid":"e9a7713f91f75dac","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in Ready for Delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in Ready for Delivery process status","time":{"start":1688007375354,"stop":1688007376485,"duration":1131}},{"uid":"8ce95dcdd4bb376","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in Ready for Delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in Ready for Delivery process status","time":{"start":1688007373692,"stop":1688007374835,"duration":1143}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":19,"broken":0,"skipped":0,"passed":14,"unknown":0,"total":33},"items":[{"uid":"547044e977c971e0","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/47//#testresult/547044e977c971e0","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in Ready for Delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in Ready for Delivery process status","time":{"start":1687921148975,"stop":1687921149804,"duration":829}},{"uid":"42513ada515f01ca","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/46//#testresult/42513ada515f01ca","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in Ready for Delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in Ready for Delivery process status","time":{"start":1687834908594,"stop":1687834910308,"duration":1714}},{"uid":"7749ae53e360a8e3","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/45//#testresult/7749ae53e360a8e3","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in Ready for Delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in Ready for Delivery process status","time":{"start":1687748766733,"stop":1687748768464,"duration":1731}},{"uid":"1c052eb1782daf08","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/44//#testresult/1c052eb1782daf08","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in Ready for Delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in Ready for Delivery process status","time":{"start":1687662788772,"stop":1687662790484,"duration":1712}},{"uid":"8f181fa4b9f2c336","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/43//#testresult/8f181fa4b9f2c336","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in Ready for Delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in Ready for Delivery process status","time":{"start":1687575584799,"stop":1687575586238,"duration":1439}},{"uid":"df7827e40e1c5faf","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/113//#testresult/df7827e40e1c5faf","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in Ready for Delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in Ready for Delivery process status","time":{"start":1687539753861,"stop":1687539754728,"duration":867}},{"uid":"22722e18853bc54b","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/42//#testresult/22722e18853bc54b","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in Ready for Delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in Ready for Delivery process status","time":{"start":1687489158614,"stop":1687489159515,"duration":901}},{"uid":"9f1a8a7e4da527a2","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/112//#testresult/9f1a8a7e4da527a2","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in Ready for Delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in Ready for Delivery process status","time":{"start":1687464363939,"stop":1687464365589,"duration":1650}},{"uid":"7b6df9059c65d54c","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/41//#testresult/7b6df9059c65d54c","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in Ready for Delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in Ready for Delivery process status","time":{"start":1687401626159,"stop":1687401627319,"duration":1160}},{"uid":"363a7b034c97877f","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/40//#testresult/363a7b034c97877f","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in ready_for_delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in ready_for_delivery process status","time":{"start":1687314971721,"stop":1687314973471,"duration":1750}},{"uid":"b039a65c8b5855eb","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/39//#testresult/b039a65c8b5855eb","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in ready_for_delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in ready_for_delivery process status","time":{"start":1687228499878,"stop":1687228500830,"duration":952}},{"uid":"79d6bc274d2b99ac","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/38//#testresult/79d6bc274d2b99ac","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in ready_for_delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in ready_for_delivery process status","time":{"start":1687142486140,"stop":1687142487461,"duration":1321}},{"uid":"4d1eed9c4e1e8a2f","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/37//#testresult/4d1eed9c4e1e8a2f","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in ready_for_delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in ready_for_delivery process status","time":{"start":1687056714444,"stop":1687056715700,"duration":1256}},{"uid":"178eec21e6d3eb2","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/36//#testresult/178eec21e6d3eb2","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in ready_for_delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in ready_for_delivery process status","time":{"start":1686969260508,"stop":1686969261421,"duration":913}},{"uid":"93bdf8aa8dca1211","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/35//#testresult/93bdf8aa8dca1211","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in ready_for_delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in ready_for_delivery process status","time":{"start":1686883210300,"stop":1686883212070,"duration":1770}},{"uid":"a4cd71201f72a10e","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/111//#testresult/a4cd71201f72a10e","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in ready_for_delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in ready_for_delivery process status","time":{"start":1686853417204,"stop":1686853418486,"duration":1282}},{"uid":"e97bb403d8b3939","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/110//#testresult/e97bb403d8b3939","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in ready_for_delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in ready_for_delivery process status","time":{"start":1686852881622,"stop":1686852882506,"duration":884}},{"uid":"efe0adbf9cc88553","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/34//#testresult/efe0adbf9cc88553","status":"failed","statusDetails":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in ready_for_delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in ready_for_delivery process status","time":{"start":1686796689998,"stop":1686796690925,"duration":927}},{"uid":"2dd2f9bbd715302d","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/109//#testresult/2dd2f9bbd715302d","status":"passed","time":{"start":1686714268834,"stop":1686714270526,"duration":1692}},{"uid":"274c99c439e4a48d","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/33//#testresult/274c99c439e4a48d","status":"passed","time":{"start":1686710334074,"stop":1686710334930,"duration":856}}]},"tags":[]},"source":"3ba85aa7f67ed7b9.json","parameterValues":["<User.SUPERUSER: 'superuser'>"]}