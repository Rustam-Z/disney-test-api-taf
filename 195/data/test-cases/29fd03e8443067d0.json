{"uid":"29fd03e8443067d0","name":"test_getDailyInventory_withDeliveredMetroConfig_returns200AndData[User.SUPERUSER]","fullName":"tests.dashboards.test_inventory.TestGetDailyInventory#test_getDailyInventory_withDeliveredMetroConfig_returns200AndData","historyId":"1536014c9075adc7a85a592408bcdd8b","time":{"start":1700706971624,"stop":1700706971727,"duration":103},"status":"failed","statusMessage":"AssertionError: assert 0 == 1","statusTrace":"self = <test_inventory.TestGetDailyInventory object at 0x7faf032dee90>\nclient = <core.http_client.HTTPClient object at 0x7faf032faa50>\nuser = <User.SUPERUSER: 'superuser'>\ndeliver_order = {'cart_id': 2997, 'customer_id': 11658, 'dropoff_date_start': '2023-11-24T02:36:10.621835Z', 'facility_id': 13099, ...}\n\n    @users(User.SUPERUSER)\n    def test_getDailyInventory_withDeliveredMetroConfig_returns200AndData(\n        self, client, user,\n        deliver_order\n    ):\n        # Arrange\n        facility_id = deliver_order.get('facility_id')\n    \n        # Act\n        params = {\n            Param.FACILITY.value: facility_id,\n            Param.DAILY_INVENTORY_TYPE.value: 'delivered',\n            Param.INVENTORY_BASE_FILTER.value: 'metro_config',\n            Param.FREQUENCY.value: 'daily'\n        }\n        response, model = InventoryDashboardAPI(client).get_daily_inventory(params)\n    \n        # Assert\n        APIResponse(response).assert_status(200)\n        last_date = model['data']['dates'][-1]\n        given_datetime = datetime.strptime(last_date, '%Y-%m-%dT%H:%M:%S.%fZ')\n        current_datetime = datetime.utcnow()\n        assert (given_datetime.date() == current_datetime.date() and\n                given_datetime.hour == current_datetime.hour and\n                given_datetime.minute == current_datetime.minute), \"The date, hour, or minutes are not the same.\"\n>       assert model['data']['series'][0]['data'][-1] == 1\nE       assert 0 == 1\n\ntests/dashboards/test_inventory.py:169: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1700706283535,"stop":1700706283549,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"client","time":{"start":1700706283549,"stop":1700706283549,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"users","time":{"start":1700706970455,"stop":1700706970456,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"staging","time":{"start":1700706970456,"stop":1700706971436,"duration":980},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"create_fake_order_superuser","time":{"start":1700706970456,"stop":1700706970456,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"create_fake_facility","time":{"start":1700706970456,"stop":1700706970456,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"deliver_order","time":{"start":1700706970456,"stop":1700706971624,"duration":1168},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"create_fake_cart_superuser","time":{"start":1700706970456,"stop":1700706970456,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"assign_metro","time":{"start":1700706970456,"stop":1700706970456,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"afterStages":[{"name":"create_fake_cart_superuser::0","time":{"start":1700706971759,"stop":1700706972033,"duration":274},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"assign_metro::0","time":{"start":1700706971759,"stop":1700706971759,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"create_fake_order_superuser::0","time":{"start":1700706972034,"stop":1700706972105,"duration":71},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"create_fake_facility::0","time":{"start":1700706972105,"stop":1700706972194,"duration":89},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"client::0","time":{"start":1700707063685,"stop":1700707063686,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"parentSuite","value":"tests.dashboards"},{"name":"suite","value":"test_inventory"},{"name":"subSuite","value":"TestGetDailyInventory"},{"name":"host","value":"fv-az812-646"},{"name":"thread","value":"2298-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.dashboards.test_inventory"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"user","value":"<User.SUPERUSER: 'superuser'>"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"29fd03e8443067d0.json","parameterValues":["<User.SUPERUSER: 'superuser'>"]}