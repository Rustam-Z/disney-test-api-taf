{"uid":"f019ae15de914fc0","name":"test_getDailyInventory_withDeliveredMetroConfig_returns200AndData[User.SUPERUSER]","fullName":"tests.dashboards.test_inventory.TestGetDailyInventory#test_getDailyInventory_withDeliveredMetroConfig_returns200AndData","historyId":"1536014c9075adc7a85a592408bcdd8b","time":{"start":1700188613981,"stop":1700188614070,"duration":89},"status":"failed","statusMessage":"AssertionError: assert 0 == 1","statusTrace":"self = <test_inventory.TestGetDailyInventory object at 0x7f745f6d2c50>\nclient = <core.http_client.HTTPClient object at 0x7f745ec721d0>\nuser = <User.SUPERUSER: 'superuser'>\ndeliver_order = {'cart_id': 2877, 'customer_id': 11179, 'dropoff_date_start': '2023-11-18T02:36:53.086818Z', 'facility_id': 12580, ...}\n\n    @users(User.SUPERUSER)\n    def test_getDailyInventory_withDeliveredMetroConfig_returns200AndData(\n        self, client, user,\n        deliver_order\n    ):\n        # Arrange\n        facility_id = deliver_order.get('facility_id')\n    \n        # Act\n        params = {\n            Param.FACILITY.value: facility_id,\n            Param.DAILY_INVENTORY_TYPE.value: 'delivered',\n            Param.INVENTORY_BASE_FILTER.value: 'metro_config',\n            Param.FREQUENCY.value: 'daily'\n        }\n        response, model = InventoryDashboardAPI(client).get_daily_inventory(params)\n    \n        # Assert\n        APIResponse(response).assert_status(200)\n        last_date = model['data']['dates'][-1]\n        given_datetime = datetime.strptime(last_date, '%Y-%m-%dT%H:%M:%S.%fZ')\n        current_datetime = datetime.utcnow()\n        assert (given_datetime.date() == current_datetime.date() and\n                given_datetime.hour == current_datetime.hour and\n                given_datetime.minute == current_datetime.minute), \"The date, hour, or minutes are not the same.\"\n>       assert model['data']['series'][0]['data'][-1] == 1\nE       assert 0 == 1\n\ntests/dashboards/test_inventory.py:169: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1700187952312,"stop":1700187952326,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"client","time":{"start":1700187952327,"stop":1700187952327,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"users","time":{"start":1700188612914,"stop":1700188612914,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"assign_metro","time":{"start":1700188612915,"stop":1700188612915,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"create_fake_facility","time":{"start":1700188612915,"stop":1700188612915,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"deliver_order","time":{"start":1700188612915,"stop":1700188613980,"duration":1065},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"staging","time":{"start":1700188612915,"stop":1700188613800,"duration":885},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"create_fake_cart_superuser","time":{"start":1700188612915,"stop":1700188612915,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"create_fake_order_superuser","time":{"start":1700188612915,"stop":1700188612915,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"afterStages":[{"name":"assign_metro::0","time":{"start":1700188614076,"stop":1700188614076,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"create_fake_cart_superuser::0","time":{"start":1700188614076,"stop":1700188614310,"duration":234},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"create_fake_order_superuser::0","time":{"start":1700188614311,"stop":1700188614374,"duration":63},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"create_fake_facility::0","time":{"start":1700188614375,"stop":1700188614452,"duration":77},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"client::0","time":{"start":1700188696430,"stop":1700188696431,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"parentSuite","value":"tests.dashboards"},{"name":"suite","value":"test_inventory"},{"name":"subSuite","value":"TestGetDailyInventory"},{"name":"host","value":"fv-az612-550"},{"name":"thread","value":"2412-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.dashboards.test_inventory"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"user","value":"<User.SUPERUSER: 'superuser'>"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"f019ae15de914fc0.json","parameterValues":["<User.SUPERUSER: 'superuser'>"]}