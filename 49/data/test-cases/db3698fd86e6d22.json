{"uid":"db3698fd86e6d22","name":"test_cartRebuild_afterStaging_returns400AndError[User.SUPERUSER]","fullName":"tests.metro.test_cart_build.TestCreateCart#test_cartRebuild_afterStaging_returns400AndError","historyId":"f5e244c5942994d0ed89ca47797998af","time":{"start":1688093590659,"stop":1688093592300,"duration":1641},"status":"failed","statusMessage":"AssertionError: assert \"This metro can not go through Cart Build process because it's now in Ready for Delivery process status\" == 'Metro is already staged.'\n  - Metro is already staged.\n  + This metro can not go through Cart Build process because it's now in Ready for Delivery process status","statusTrace":"self = <test_cart_build.TestCreateCart object at 0x7fc7ea99b790>\nclient = <core.http_client.HTTPClient object at 0x7fc7ea9f6a50>\nuser = <User.SUPERUSER: 'superuser'>\nrequest = <FixtureRequest for <Function test_cartRebuild_afterStaging_returns400AndError[User.SUPERUSER]>>\n\n    @users(User.SUPERUSER)\n    def test_cartRebuild_afterStaging_returns400AndError(self, client, user, request):\n        # Arrange\n        setup = request.getfixturevalue('staging')\n        metro_qr_code = setup.get('metro_qr_code')\n        metro_config_qr_code = setup.get('metro_config_qr_code')\n    \n        # Act\n        payload = data.fake.model.cart(\n            metro_qr_code=metro_qr_code,\n            metro_config_qr_code=metro_config_qr_code,\n            is_rebuild=True\n        )\n        response, model = CartBuildAPI(client).create_cart(data=payload)\n    \n        # Assert\n        APIResponse(response).assert_status(400)\n>       assert model.error.get('detail') == \"Metro is already staged.\"\nE       assert \"This metro can not go through Cart Build process because it's now in Ready for Delivery process status\" == 'Metro is already staged.'\nE         - Metro is already staged.\nE         + This metro can not go through Cart Build process because it's now in Ready for Delivery process status\n\ntests/metro/test_cart_build.py:79: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1688093347498,"stop":1688093347515,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"client","time":{"start":1688093347515,"stop":1688093347516,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"users","time":{"start":1688093590658,"stop":1688093590658,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"create_fake_facility","time":{"start":1688093590659,"stop":1688093590659,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"staging","time":{"start":1688093590659,"stop":1688093592179,"duration":1520},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"assign_metro","time":{"start":1688093590660,"stop":1688093590660,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"create_fake_order_superuser","time":{"start":1688093590660,"stop":1688093590660,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"create_fake_cart_superuser","time":{"start":1688093590660,"stop":1688093590660,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0}],"afterStages":[{"name":"assign_metro::0","time":{"start":1688093592341,"stop":1688093592341,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"create_fake_cart_superuser::0","time":{"start":1688093592342,"stop":1688093592727,"duration":385},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"create_fake_order_superuser::0","time":{"start":1688093592728,"stop":1688093592884,"duration":156},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"create_fake_facility::0","time":{"start":1688093592885,"stop":1688093593039,"duration":154},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"client::0","time":{"start":1688093676576,"stop":1688093676577,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0}],"labels":[{"name":"parentSuite","value":"tests.metro"},{"name":"suite","value":"test_cart_build"},{"name":"subSuite","value":"TestCreateCart"},{"name":"host","value":"fv-az255-466"},{"name":"thread","value":"2436-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.metro.test_cart_build"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"user","value":"<User.SUPERUSER: 'superuser'>"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"db3698fd86e6d22.json","parameterValues":["<User.SUPERUSER: 'superuser'>"]}