{"uid":"1328c2ea794e7397","name":"test_cartRebuild_afterStaging_returns400AndError[User.SUPERUSER]","fullName":"tests.metro.test_cart_build.TestCreateCart#test_cartRebuild_afterStaging_returns400AndError","historyId":"f5e244c5942994d0ed89ca47797998af","time":{"start":1694139674203,"stop":1694139674992,"duration":789},"status":"broken","statusMessage":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","statusTrace":"self = <test_cart_build.TestCreateCart object at 0x7fc2caee3ed0>\nclient = <core.http_client.HTTPClient object at 0x7fc2ca9c5ed0>\nuser = <User.SUPERUSER: 'superuser'>\nrequest = <FixtureRequest for <Function test_cartRebuild_afterStaging_returns400AndError[User.SUPERUSER]>>\n\n    @users(User.SUPERUSER)\n    def test_cartRebuild_afterStaging_returns400AndError(self, client, user, request):\n        # Arrange\n        setup = request.getfixturevalue('staging')\n        metro_qr_code = setup.get('metro_qr_code')\n        metro_config_qr_code = setup.get('metro_config_qr_code')\n    \n        # Act\n        payload = data.fake.model.cart(\n            metro_qr_code=metro_qr_code,\n            metro_config_qr_code=metro_config_qr_code,\n            is_rebuild=True\n        )\n>       response, model = CartBuildAPI(client).create_cart(data=payload)\n\ntests/metro/test_cart_build.py:75: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \napi/endpoints/metro/cart_build_api.py:23: in create_cart\n    response_payload = CreateCartSuccessResponse(**response.json())\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n>   ???\nE   pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\nE   data -> id\nE     field required (type=value_error.missing)\nE   data -> created_at\nE     field required (type=value_error.missing)\nE   data -> updated_at\nE     field required (type=value_error.missing)\nE   data -> metro\nE     field required (type=value_error.missing)\nE   data -> metro_config\nE     field required (type=value_error.missing)\nE   data -> is_rebuild\nE     field required (type=value_error.missing)\n\npydantic/main.py:341: ValidationError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":3,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1694139474511,"stop":1694139474527,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"client","time":{"start":1694139474528,"stop":1694139474528,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"users","time":{"start":1694139674202,"stop":1694139674203,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"create_fake_order_superuser","time":{"start":1694139674203,"stop":1694139674203,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"create_fake_facility","time":{"start":1694139674203,"stop":1694139674203,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"staging","time":{"start":1694139674203,"stop":1694139674946,"duration":743},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"assign_metro","time":{"start":1694139674204,"stop":1694139674204,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"create_fake_cart_superuser","time":{"start":1694139674204,"stop":1694139674204,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"afterStages":[{"name":"assign_metro::0","time":{"start":1694139675001,"stop":1694139675001,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"create_fake_cart_superuser::0","time":{"start":1694139675001,"stop":1694139675196,"duration":195},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"create_fake_order_superuser::0","time":{"start":1694139675197,"stop":1694139675246,"duration":49},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"create_fake_facility::0","time":{"start":1694139675247,"stop":1694139675321,"duration":74},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"client::0","time":{"start":1694139716030,"stop":1694139716031,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"labels":[{"name":"parentSuite","value":"tests.metro"},{"name":"suite","value":"test_cart_build"},{"name":"subSuite","value":"TestCreateCart"},{"name":"host","value":"fv-az436-502"},{"name":"thread","value":"2251-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.metro.test_cart_build"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"user","value":"<User.SUPERUSER: 'superuser'>"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"7d7b3c4337932547","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1694139673058,"stop":1694139673848,"duration":790}},{"uid":"41be0c8ce05ed651","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1694139671891,"stop":1694139672704,"duration":813}},{"uid":"5b07660d416c49c7","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1694139670800,"stop":1694139671569,"duration":769}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":23,"broken":70,"skipped":0,"passed":14,"unknown":0,"total":107},"items":[{"uid":"fe54b8476e2dfcef","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/118//#testresult/fe54b8476e2dfcef","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1694053270492,"stop":1694053271922,"duration":1430}},{"uid":"2ccc9335cb4d840f","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/117//#testresult/2ccc9335cb4d840f","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1693966864972,"stop":1693966866343,"duration":1371}},{"uid":"8bb341a56f753b9","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/116//#testresult/8bb341a56f753b9","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1693880402314,"stop":1693880403432,"duration":1118}},{"uid":"f8c510b8eb3be6f","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/115//#testresult/f8c510b8eb3be6f","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1693794101357,"stop":1693794102580,"duration":1223}},{"uid":"f735aba8e2d1a0b4","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/114//#testresult/f735aba8e2d1a0b4","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1693707667509,"stop":1693707668397,"duration":888}},{"uid":"52e859eca8b940d3","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/113//#testresult/52e859eca8b940d3","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1693621024408,"stop":1693621025183,"duration":775}},{"uid":"4126cacb9f4311f6","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/112//#testresult/4126cacb9f4311f6","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1693535106868,"stop":1693535107955,"duration":1087}},{"uid":"1ecd5ed409d7fc37","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/111//#testresult/1ecd5ed409d7fc37","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1693448412603,"stop":1693448413439,"duration":836}},{"uid":"4b5f69050468db65","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/110//#testresult/4b5f69050468db65","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1693361956732,"stop":1693361957597,"duration":865}},{"uid":"b09644377fc9a2d6","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/109//#testresult/b09644377fc9a2d6","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1693277366573,"stop":1693277367409,"duration":836}},{"uid":"39b836f38d770266","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/108//#testresult/39b836f38d770266","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1693189252922,"stop":1693189254566,"duration":1644}},{"uid":"ff7cc0ba274a25f","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/107//#testresult/ff7cc0ba274a25f","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1693102796662,"stop":1693102797572,"duration":910}},{"uid":"a4be13840905bf9d","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/106//#testresult/a4be13840905bf9d","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1693016219575,"stop":1693016220649,"duration":1074}},{"uid":"52167602f010470f","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/105//#testresult/52167602f010470f","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1692929973282,"stop":1692929974176,"duration":894}},{"uid":"639efd158e97280c","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/116//#testresult/639efd158e97280c","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1692864160420,"stop":1692864161307,"duration":887}},{"uid":"cd777c0a5a310dba","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/115//#testresult/cd777c0a5a310dba","status":"broken","statusDetails":"pydantic.error_wrappers.ValidationError: 6 validation errors for CreateCartSuccessResponse\ndata -> id\n  field required (type=value_error.missing)\ndata -> created_at\n  field required (type=value_error.missing)\ndata -> updated_at\n  field required (type=value_error.missing)\ndata -> metro\n  field required (type=value_error.missing)\ndata -> metro_config\n  field required (type=value_error.missing)\ndata -> is_rebuild\n  field required (type=value_error.missing)","time":{"start":1692864074486,"stop":1692864076096,"duration":1610}},{"uid":"3382d4ae11fea20a","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/104//#testresult/3382d4ae11fea20a","status":"broken","statusDetails":"AttributeError: 'NoneType' object has no attribute 'id'","time":{"start":1692843572408,"stop":1692843573134,"duration":726}},{"uid":"1f340dea182b007b","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/103//#testresult/1f340dea182b007b","status":"broken","statusDetails":"AttributeError: 'NoneType' object has no attribute 'id'","time":{"start":1692757111956,"stop":1692757112518,"duration":562}},{"uid":"43e951a33f4d855d","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/102//#testresult/43e951a33f4d855d","status":"broken","statusDetails":"AttributeError: 'NoneType' object has no attribute 'id'","time":{"start":1692670783850,"stop":1692670784459,"duration":609}},{"uid":"b4fc4385d7e52d18","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/101//#testresult/b4fc4385d7e52d18","status":"broken","statusDetails":"AttributeError: 'NoneType' object has no attribute 'id'","time":{"start":1692584282022,"stop":1692584282398,"duration":376}}]},"tags":[]},"source":"1328c2ea794e7397.json","parameterValues":["<User.SUPERUSER: 'superuser'>"]}