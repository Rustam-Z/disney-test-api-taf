{"uid":"46caed599694771b","name":"test_getOrderHistory_withDeliveredOrder_returns200AndData[User.SUPERUSER]","fullName":"tests.dashboards.test_order_history.TestGetOrderHistory#test_getOrderHistory_withDeliveredOrder_returns200AndData","historyId":"166ad9c96de5b205d1e3901e5920b235","time":{"start":1691288528654,"stop":1691288528654,"duration":0},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'id'","statusTrace":"client = <core.http_client.HTTPClient object at 0x7f6b620b52d0>\nrequest = <SubRequest 'deliver_order' for <Function test_getOrderHistory_withDeliveredOrder_returns200AndData[User.SUPERUSER]>>\n\n    @pytest.fixture()\n    def deliver_order(client, request):\n>       setup = request.getfixturevalue('staging')\n\nfixtures/staging.py:87: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nfixtures/staging.py:68: in staging\n    setup = request.getfixturevalue('assign_metro')()\nfixtures/staging.py:37: in _fixture\n    cart_payload, cart_response, cart_model = create_fake_cart_superuser(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nkwargs = {'facility_id': 1123}, facility_id = 1123\ncategory_payload = {'name': 'Crystal Mcdonald'}\ncategory_response = <Response [201]>\ncategory_model = CreateInventoryCategorySuccessResponse(status=True, message='Successfully', data=_InventoryCategory(id=455, name='Crys...ated_by=_UserField(id=1, email='admin@disney.com'), updated_by=_UserField(id=1, email='admin@disney.com')), error=None)\n\n    def _fixture(**kwargs):\n        # Arrange\n    \n        # Create facility\n        if 'facility_id' not in kwargs:\n            facility_payload, facility_response, facility_model = create_fake_facility(no_of_customers=1)\n            kwargs['facility_id'] = facility_model.data.id\n        facility_id = kwargs['facility_id']\n    \n        # Create inventory category\n        category_payload = data.fake.model.inventory_category()\n        category_response, category_model = InventoryCategoryAPI(client).create_category(data=category_payload)\n        nonlocal category_id\n        category_id = category_model.data.id\n    \n        # Create inventory item type\n        inventory_item_type_payload = data.fake.model.inventory_item_type(category_id=category_id)\n        inventory_item_type_response, inventory_item_type_model = InventoryItemTypeAPI(client).create_item_type(\n            data=inventory_item_type_payload\n        )\n        nonlocal inventory_item_type_id\n        inventory_item_type_id = inventory_item_type_model.data.id\n    \n        # Create facility item type\n        payload = data.fake.model.facility_item_type(item_type_id=inventory_item_type_id, facility_id=facility_id)\n        response, model = FacilityItemTypeAPI(client).create_item_type(data=payload)\n        nonlocal facility_item_type_id\n        facility_item_type_id = model.data.id\n    \n        # Create metro item configuration\n        payload = data.fake.model.metro_item_configuration(\n            facility_id=facility_id,\n            facility_item_type_ids=[facility_item_type_id],\n        )\n        response, conf_model = MetroItemConfigurationAPI(client).create_config(data=payload)\n        nonlocal metro_item_config_id\n>       metro_item_config_id = conf_model.data.id\nE       AttributeError: 'NoneType' object has no attribute 'id'\n\nfixtures/cart_build.py:56: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":3,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1691288432147,"stop":1691288432160,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0},{"name":"client","time":{"start":1691288432160,"stop":1691288432161,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0},{"name":"deliver_order","time":{"start":1691288528654,"stop":1691288529241,"duration":587},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'id'\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/disney-test-api-taf-A9L5E0vM-py3.11/lib/python3.11/site-packages/pluggy/_callers.py\", line 39, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/disney-test-api-taf-A9L5E0vM-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py\", line 1130, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/disney-test-api-taf-A9L5E0vM-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py\", line 909, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/disney-test-api-taf/disney-test-api-taf/fixtures/staging.py\", line 87, in deliver_order\n    setup = request.getfixturevalue('staging')\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/disney-test-api-taf-A9L5E0vM-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py\", line 570, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/disney-test-api-taf-A9L5E0vM-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py\", line 592, in _get_active_fixturedef\n    self._compute_fixture_value(fixturedef)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/disney-test-api-taf-A9L5E0vM-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py\", line 678, in _compute_fixture_value\n    fixturedef.execute(request=subrequest)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/disney-test-api-taf-A9L5E0vM-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py\", line 1076, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/disney-test-api-taf-A9L5E0vM-py3.11/lib/python3.11/site-packages/pluggy/_hooks.py\", line 265, in __call__\n    return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/disney-test-api-taf-A9L5E0vM-py3.11/lib/python3.11/site-packages/pluggy/_manager.py\", line 80, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/disney-test-api-taf-A9L5E0vM-py3.11/lib/python3.11/site-packages/pluggy/_callers.py\", line 60, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/disney-test-api-taf-A9L5E0vM-py3.11/lib/python3.11/site-packages/pluggy/_result.py\", line 60, in get_result\n    raise ex[1].with_traceback(ex[2])\n  File \"/home/runner/.cache/pypoetry/virtualenvs/disney-test-api-taf-A9L5E0vM-py3.11/lib/python3.11/site-packages/pluggy/_callers.py\", line 39, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/disney-test-api-taf-A9L5E0vM-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py\", line 1130, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/disney-test-api-taf-A9L5E0vM-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py\", line 909, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/disney-test-api-taf/disney-test-api-taf/fixtures/staging.py\", line 68, in staging\n    setup = request.getfixturevalue('assign_metro')()\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/disney-test-api-taf/disney-test-api-taf/fixtures/staging.py\", line 37, in _fixture\n    cart_payload, cart_response, cart_model = create_fake_cart_superuser(\n                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/disney-test-api-taf/disney-test-api-taf/fixtures/cart_build.py\", line 56, in _fixture\n    metro_item_config_id = conf_model.data.id\n                           ^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true,"stepsCount":0},{"name":"create_fake_facility","time":{"start":1691288528654,"stop":1691288528654,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0},{"name":"users","time":{"start":1691288528654,"stop":1691288528654,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0},{"name":"create_fake_order_superuser","time":{"start":1691288528655,"stop":1691288528655,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0},{"name":"assign_metro","time":{"start":1691288528655,"stop":1691288528655,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0},{"name":"create_fake_cart_superuser","time":{"start":1691288528655,"stop":1691288528655,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0}],"afterStages":[{"name":"assign_metro::0","time":{"start":1691288529253,"stop":1691288529253,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0},{"name":"create_fake_cart_superuser::0","time":{"start":1691288529253,"stop":1691288529651,"duration":398},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0},{"name":"create_fake_order_superuser::0","time":{"start":1691288529652,"stop":1691288529786,"duration":134},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0},{"name":"create_fake_facility::0","time":{"start":1691288529787,"stop":1691288530051,"duration":264},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0},{"name":"client::0","time":{"start":1691288709802,"stop":1691288709803,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0}],"labels":[{"name":"parentSuite","value":"tests.dashboards"},{"name":"suite","value":"test_order_history"},{"name":"subSuite","value":"TestGetOrderHistory"},{"name":"host","value":"fv-az450-495"},{"name":"thread","value":"2260-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.dashboards.test_order_history"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"user","value":"<User.SUPERUSER: 'superuser'>"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"8231301ed128b43","status":"broken","statusDetails":"AttributeError: 'NoneType' object has no attribute 'id'","time":{"start":1691288527317,"stop":1691288527317,"duration":0}},{"uid":"cf33165b924bbb37","status":"broken","statusDetails":"AttributeError: 'NoneType' object has no attribute 'id'","time":{"start":1691288525971,"stop":1691288525971,"duration":0}},{"uid":"58bad856e3db3451","status":"broken","statusDetails":"AttributeError: 'NoneType' object has no attribute 'id'","time":{"start":1691288524648,"stop":1691288524648,"duration":0}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":3,"skipped":0,"passed":45,"unknown":0,"total":48},"items":[{"uid":"ffef72e6584def8b","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/85//#testresult/ffef72e6584def8b","status":"broken","statusDetails":"AttributeError: 'NoneType' object has no attribute 'id'","time":{"start":1691202316601,"stop":1691202316601,"duration":0}},{"uid":"b83fef1be644b888","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/84//#testresult/b83fef1be644b888","status":"broken","statusDetails":"AttributeError: 'NoneType' object has no attribute 'id'","time":{"start":1691116072407,"stop":1691116072407,"duration":0}},{"uid":"3fafeca3100e502b","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/83//#testresult/3fafeca3100e502b","status":"passed","time":{"start":1691029593284,"stop":1691029593355,"duration":71}},{"uid":"98d6caad3e740195","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/82//#testresult/98d6caad3e740195","status":"passed","time":{"start":1690943121937,"stop":1690943122070,"duration":133}},{"uid":"6c4b7605a4cc61f3","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/81//#testresult/6c4b7605a4cc61f3","status":"passed","time":{"start":1690857350903,"stop":1690857351022,"duration":119}},{"uid":"1dd3ec1b7c63cfb","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/80//#testresult/1dd3ec1b7c63cfb","status":"passed","time":{"start":1690770633384,"stop":1690770633517,"duration":133}},{"uid":"5be0e63ccd365959","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/79//#testresult/5be0e63ccd365959","status":"passed","time":{"start":1690684022612,"stop":1690684022731,"duration":119}},{"uid":"82dd72bb7f0184dd","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/78//#testresult/82dd72bb7f0184dd","status":"passed","time":{"start":1690597478993,"stop":1690597479076,"duration":83}},{"uid":"8fcdfb5a5737e36f","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/77//#testresult/8fcdfb5a5737e36f","status":"passed","time":{"start":1690511260964,"stop":1690511261056,"duration":92}},{"uid":"47b06b43533ca13a","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/76//#testresult/47b06b43533ca13a","status":"passed","time":{"start":1690424723708,"stop":1690424723816,"duration":108}},{"uid":"f5490571e32d9bc9","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/75//#testresult/f5490571e32d9bc9","status":"passed","time":{"start":1690338915845,"stop":1690338915964,"duration":119}},{"uid":"14f6570136ef4483","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/74//#testresult/14f6570136ef4483","status":"passed","time":{"start":1690253080638,"stop":1690253080704,"duration":66}},{"uid":"4b5c59011cbe6328","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/73//#testresult/4b5c59011cbe6328","status":"passed","time":{"start":1690165989295,"stop":1690165989355,"duration":60}},{"uid":"b826e573d9dc97ab","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/72//#testresult/b826e573d9dc97ab","status":"passed","time":{"start":1690079776609,"stop":1690079776692,"duration":83}},{"uid":"66da8bf55e297e3c","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/71//#testresult/66da8bf55e297e3c","status":"passed","time":{"start":1689993010328,"stop":1689993010440,"duration":112}},{"uid":"3660c587a11805b5","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/70//#testresult/3660c587a11805b5","status":"passed","time":{"start":1689907120181,"stop":1689907120252,"duration":71}},{"uid":"aa2d9f1c9bd326d8","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/69//#testresult/aa2d9f1c9bd326d8","status":"passed","time":{"start":1689820582658,"stop":1689820582726,"duration":68}},{"uid":"e412cb49f569c49d","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/68//#testresult/e412cb49f569c49d","status":"passed","time":{"start":1689738475495,"stop":1689738475585,"duration":90}},{"uid":"d599a1f75fc1e5ba","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/67//#testresult/d599a1f75fc1e5ba","status":"passed","time":{"start":1689649414101,"stop":1689649414192,"duration":91}},{"uid":"7e8f4925b7d725aa","reportUrl":"https://Rustam-Z.github.io/disney-test-api-taf/66//#testresult/7e8f4925b7d725aa","status":"passed","time":{"start":1689563208719,"stop":1689563208799,"duration":80}}]},"tags":[]},"source":"46caed599694771b.json","parameterValues":["<User.SUPERUSER: 'superuser'>"]}